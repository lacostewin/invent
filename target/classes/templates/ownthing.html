<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:form="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css.css">
    <title>Инвентаризация PM&HM</title>
</head>
<body>
<div class="greetings">
    <p th:each="grt : ${greet}">Вы вошли как <strong th:text="${grt}"></strong></p>
    <form th:action="@{/logout}" method="post">
        <input type="submit" value="Выйти"/>
    </form>
</div>
<div class="menu">
    <a sec:authorize="hasRole('ROLE_INVENTADMIN')" href="/main">Добавить ТМЦ</a><a style="padding-left:4.00em;" href="/search">Поиск ТМЦ</a>
</div>
</br>

<div id="er" th:if="${error}">
    <div id="popup">
    <strong style="color: rgb(20, 85, 162);" th:each="err : ${error}" th:text="${err}"></strong>
    <p style="cursor: pointer;" onclick="document.getElementById('er').style.display='none';" >Закрыть</p>
    </div>
</div>

<h3>Список ТМЦ закреплённых за Вами:</h3>
<table class="tmc">
    <thead>
    <tr>
        <th>ID</th><th>Наименование</th><th>Инв. №</th><th>Сер. №</th><th>Кто назначил</th><th>Подтвердить</th>
    </tr>
    </thead>
    <tbody>
    <form th:action="@{/}" method="post" onsubmit="return confirm('Вы уверены, что все перечисленные ТМЦ у Вас есть в наличии?');">
    <tr th:each="mess : ${messages}">
        <td th:text="${mess.id}"></td>
        <td th:text="${mess.text}"><span></span></td>
        <td th:text="${mess.invid}"></td>
        <td th:text="${mess.sn}"><i></i></td>
        <td th:text="${mess.author}"><i></i></td>
        <td>
                <input type="checkbox" name="checkboxName" id="checkbox_check" />
                <input type="hidden" name="checkboxId" th:value="${mess.id}" />
        </td>
    </tr>
        <input type="submit" value="Подтвердить наличие" style='display: block; margin-left: auto;' />
    </form>
    </tbody>
</table>
<script th:inline="javascript">
$('#checkbox_check').on('click', function () {
    let checkboxStatus = $(this).prop('checked')
    console.log(checkboxStatus)
})
</script>
</body>
</html>